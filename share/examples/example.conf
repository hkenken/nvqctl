# nvqctl VM configuration: example
#
# Copy this file to /usr/local/etc/nvqctl/vm/<name>.conf and edit.
# See nvqctl(8) for details.

# --------------------------------------------------------------------------
# CPU and memory
# --------------------------------------------------------------------------
NCPU=2
MEMORY=2048

# Accelerator: nvmm | tcg
ACCEL=nvmm

# CPU model: host | qemu64 | ...
# "host" passes through host CPU features (recommended with nvmm)
CPU=host

# --------------------------------------------------------------------------
# Disks
# --------------------------------------------------------------------------
# One entry per line, format: path[:format[:cache]]
#   format: raw (default), qcow2
#   cache:  none, writeback, writethrough, directsync, unsafe
DISKS="
  /usr/xendata/example/root.img:raw
  /usr/xendata/example/home.img:raw
"

# --------------------------------------------------------------------------
# Network
# --------------------------------------------------------------------------
# One entry per line, format: tap_name[:mac_address]
# MAC address is optional; QEMU assigns one if omitted.
NETWORK="
  tap0
"

# --------------------------------------------------------------------------
# Display
# --------------------------------------------------------------------------
# none   - headless (recommended for servers)
# vnc    - VNC server (add port via EXTRA_ARGS)
# spice  - SPICE server (add port via EXTRA_ARGS)
DISPLAY_OPT=none

# --------------------------------------------------------------------------
# Serial console
# --------------------------------------------------------------------------
# Enable serial console socket for 'nvqctl console'
# Guest must have getty enabled on tty00 (com0).
SERIAL=yes

# --------------------------------------------------------------------------
# Guest agent
# --------------------------------------------------------------------------
# Enable QEMU Guest Agent for clean shutdown.
# Guest must have qemu-guest-agent installed and configured.
#   isa-serial:     uses /dev/tty01 (com1) - works on NetBSD
#   virtio-serial:  uses virtio_console - Linux guests
GUEST_AGENT=no
GUEST_AGENT_METHOD=isa-serial

# --------------------------------------------------------------------------
# Miscellaneous
# --------------------------------------------------------------------------
# VirtIO RNG: provides entropy to guest
VIRTIO_RNG=yes

# RTC base: localtime | utc
RTC_BASE=localtime

# Shutdown timeout (seconds) for 'nvqctl stop'
SHUTDOWN_TIMEOUT=120

# --------------------------------------------------------------------------
# Advanced
# --------------------------------------------------------------------------
# Override QEMU binary path
#QEMU_BIN=/usr/pkg/bin/qemu-system-x86_64

# Extra QEMU arguments (appended to command line)
# Examples:
#   EXTRA_ARGS="-device usb-ehci -device usb-tablet"
#   EXTRA_ARGS="-boot d -cdrom /path/to/install.iso"
#EXTRA_ARGS=""
